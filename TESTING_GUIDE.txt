ğŸ“± QUICK TEST GUIDE - FITUR HISTORY PAYMENT

================================================================================
ğŸ§ª CARA TESTING FITUR YANG SUDAH DIIMPLEMENTASIKAN
================================================================================

1ï¸âƒ£ TEST: PAYMENT & HISTORY SAVED
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   STEP:
   a) Buka app â†’ Home
   b) Pilih buku, klik "Beli Sekarang"
   c) Di Payment Activity â†’ klik "Bayar Sekarang"
   d) Selesaikan pembayaran di Midtrans
   e) Kembali ke app

   EXPECTED RESULT:
   âœ“ Data tersimpan di Firebase node "purchases/{userId}/{orderId}"
   âœ“ Status awal: "pending"
   âœ“ Muncul di halaman History/Riwayat

2ï¸âƒ£ TEST: HISTORY FRAGMENT DISPLAY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   STEP:
   a) Buka app â†’ Tab "Riwayat" (History/HistoryFragment)
   
   EXPECTED RESULT:
   âœ“ Muncul list pembelian dari terbaru ke terlama
   âœ“ Setiap item menampilkan:
      â€¢ Judul buku
      â€¢ Harga (format Rp)
      â€¢ Tanggal (DD MMM YYYY â€¢ HH:mm)
      â€¢ Status (SUCCESS/PENDING/FAILED dengan warna)
   âœ“ Item dapat di-klik

3ï¸âƒ£ TEST: DETAIL PEMBELIAN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   STEP:
   a) Di halaman History â†’ Klik salah satu pembelian
   
   EXPECTED RESULT:
   âœ“ Membuka PurchaseDetailActivity
   âœ“ Menampilkan detail:
      â€¢ Toolbar dengan tombol back
      â€¢ Judul buku besar
      â€¢ Harga dengan warna biru (#5C6AC4)
      â€¢ Section "Detail Pembelian":
        - Harga: [amount]
        - Metode: QRIS
        - Status: SUCCESS (hijau), PENDING (orange), FAILED (merah)
        - Tanggal: [formatted date]
      â€¢ ID Transaksi/Order ID

4ï¸âƒ£ TEST: LIBRARY/KOLEKSI
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   STEP:
   a) Buka app â†’ Tab "Library" (LibraryFragment)
   
   EXPECTED RESULT:
   âœ“ Grid layout 2 kolom
   âœ“ Menampilkan buku dengan status "SUCCESS" saja
   âœ“ Jika belum ada pembelian sukses: "Belum ada buku di library"
   âœ“ Setelah ada pembelian sukses: Muncul cover buku dalam grid

5ï¸âƒ£ TEST: FIREBASE DATA STRUCTURE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   STEP:
   a) Buka Firebase Console
   b) Navigate ke: Realtime Database
   c) Lihat node: purchases/{userId}
   
   EXPECTED RESULT:
   âœ“ Ada structure seperti:
      purchases/
        {userId}/
          ORDER-123456789/
            id: "ORDER-123456789"
            title: "Nama Buku"
            price: 264830.3
            timestamp: 1672764900000
            status: "pending" or "success"
            method: "QRIS"
            orderId: "ORDER-123456789"
            transactionId: "" (filled after webhook)
            bookCover: "url_to_image"

6ï¸âƒ£ TEST: NAVIGATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   STEP 1 - Back Button:
   a) Buka detail pembelian
   b) Klik tombol back (panah di toolbar)
   
   EXPECTED RESULT:
   âœ“ Kembali ke History Fragment

   STEP 2 - Tab Navigation:
   a) Klik tab History â†’ Klik tab Library â†’ Klik tab History
   
   EXPECTED RESULT:
   âœ“ Data tetap konsisten
   âœ“ Tidak ada error

================================================================================
âš ï¸ COMMON ISSUES & TROUBLESHOOTING
================================================================================

ISSUE 1: "Data pembelian tidak ditemukan" di DetailActivity
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SOLUTION:
   âœ“ Pastikan intent.putExtra("PURCHASE", purchase) sudah di-set
   âœ“ Pastikan Purchase adalah @Parcelize
   âœ“ Check HistoryFragment line 34-36

ISSUE 2: Library/History kosong meski sudah bayar
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SOLUTION:
   âœ“ Periksa Firebase connection
   âœ“ Check Firebase Rules (allow read/write)
   âœ“ Verifikasi data di Firebase Console

ISSUE 3: Crash saat membuka DetailActivity
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SOLUTION:
   âœ“ Pastikan Activity terdaftar di AndroidManifest.xml âœ“
   âœ“ Check binding dalam setupUI() âœ“
   âœ“ Pastikan layout file exists (activity_purchase_detail.xml) âœ“

ISSUE 4: Tanggal tidak terformat dengan benar
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SOLUTION:
   âœ“ Pastikan SimpleDateFormat locale = Locale("in", "ID") âœ“
   âœ“ Check formatDate() function di PurchaseDetailActivity

ISSUE 5: Status warna tidak muncul
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SOLUTION:
   âœ“ Pastikan kode warna hex sudah benar:
      - SUCCESS: 0xFF4CAF50 (hijau)
      - PENDING: 0xFFFFA500 (orange)
      - FAILED: 0xFFFF0000 (merah)

================================================================================
ğŸ” DEBUG MODE
================================================================================

Jika ingin debugging lebih detail:

1. Di LogCat filter: "PaymentActivity"
   Akan melihat:
   - Log.d("PaymentActivity", "Purchase history saved to Firebase")
   - Log.e("PaymentActivity", "Failed to save purchase history")

2. Di LogCat filter: "HistoryFragment"
   Akan melihat:
   - Log.e("HistoryFragment", error.message) jika ada error

3. Di LogCat filter: "LibraryFragment"
   Akan melihat:
   - Log.e("LibraryFragment", error.message) jika ada error

================================================================================
âœ… CHECKLIST SEBELUM RELEASE
================================================================================

DATABASE:
   â˜ Firebase Database terhubung dengan benar
   â˜ Permissions untuk purchases node sudah di-set
   â˜ Data test sudah masuk ke Firebase

CODE:
   â˜ Build.gradle.kts sudah di-update dengan kotlin("plugin.parcelize")
   â˜ AndroidManifest.xml sudah registrasi PurchaseDetailActivity
   â˜ Semua import sudah correct
   â˜ Tidak ada unused imports

TESTING:
   â˜ Bisa melihat history pembelian
   â˜ Bisa klik detail pembelian
   â˜ Bisa kembali dari detail
   â˜ Bisa melihat library/koleksi
   â˜ Status color sudah muncul
   â˜ Tanggal format correct
   â˜ No crashes atau exceptions

LAYOUT:
   â˜ Responsive di berbagai ukuran layar
   â˜ Text tidak terpotong
   â˜ Background color sesuai design
   â˜ Drawable resources ada (ic_back.xml, bg_card.xml)

================================================================================
